{
  "vn_chat_summary": {
    "id": "vn_chat_summary",
    "dag": {
      "id": "vn_chat_summary",
      "disp_name": "[Vietnam] Chat Summary",
      "schedule": "*/5 * * * *",
      "retries": 3
    },
    "schema_fields": {
      "id": {
        "name": "id",
        "type": "STRING",
        "mode": "REQUIRED"
      },
      "user_id": {
        "name": "user_id",
        "type": "STRING",
        "mode": "REQUIRED"
      },
      "message": {
        "name": "message",
        "type": "STRING",
        "mode": "REQUIRED"
      },
      "timestamp": {
        "name": "timestamp",
        "type": "TIMESTAMP",
        "mode": "REQUIRED"
      }
    },
    "tables": [
      {
        "name": "t_conversations_load",
        "type": "load",
        "dataset": "isling_data",
        "partition_field": "ingestion_ts"
      },
      {
        "name": "t_conversations_history",
        "type": "history",
        "dataset": "isling_data",
        "partition_field": "timestamp"
      },
      {
        "name": "t_conversations_daily",
        "type": "daily",
        "dataset": "isling_data"
      }
    ],
    "extract": {
      "module_name": "extract.extract_gcs",
      "config": {
        "bucket": "isling-data",
        "prefix": "vn/conversations",
        "file_format": "csv",
        "column_order": [
          "id",
          "user_id",
          "message",
          "timestamp"
        ],
        "dst_table": "t_conversations_load"
      }
    }
  }
}
